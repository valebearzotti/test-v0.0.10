"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "src_tools_fetch_ts";
exports.ids = ["src_tools_fetch_ts"];
exports.modules = {

/***/ "./src/tools/fetch.ts":
/*!****************************!*\
  !*** ./src/tools/fetch.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ fetchWeather),\n/* harmony export */   metadata: () => (/* binding */ metadata),\n/* harmony export */   schema: () => (/* binding */ schema)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"zod\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(zod__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _utils_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/constants */ \"./src/utils/constants.ts\");\n/* harmony import */ var _utils_weather__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/weather */ \"./src/utils/weather.ts\");\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n        var info = gen[key](arg);\n        var value = info.value;\n    } catch (error) {\n        reject(error);\n        return;\n    }\n    if (info.done) {\n        resolve(value);\n    } else {\n        Promise.resolve(value).then(_next, _throw);\n    }\n}\nfunction _async_to_generator(fn) {\n    return function() {\n        var self = this, args = arguments;\n        return new Promise(function(resolve, reject) {\n            var gen = fn.apply(self, args);\n            function _next(value) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n            }\n            function _throw(err) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n            }\n            _next(undefined);\n        });\n    };\n}\nfunction _ts_generator(thisArg, body) {\n    var f, y, t, _ = {\n        label: 0,\n        sent: function() {\n            if (t[0] & 1) throw t[1];\n            return t[1];\n        },\n        trys: [],\n        ops: []\n    }, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() {\n        return this;\n    }), g;\n    function verb(n) {\n        return function(v) {\n            return step([\n                n,\n                v\n            ]);\n        };\n    }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while(g && (g = 0, op[0] && (_ = 0)), _)try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [\n                op[0] & 2,\n                t.value\n            ];\n            switch(op[0]){\n                case 0:\n                case 1:\n                    t = op;\n                    break;\n                case 4:\n                    _.label++;\n                    return {\n                        value: op[1],\n                        done: false\n                    };\n                case 5:\n                    _.label++;\n                    y = op[1];\n                    op = [\n                        0\n                    ];\n                    continue;\n                case 7:\n                    op = _.ops.pop();\n                    _.trys.pop();\n                    continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                        _ = 0;\n                        continue;\n                    }\n                    if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                        _.label = op[1];\n                        break;\n                    }\n                    if (op[0] === 6 && _.label < t[1]) {\n                        _.label = t[1];\n                        t = op;\n                        break;\n                    }\n                    if (t && _.label < t[2]) {\n                        _.label = t[2];\n                        _.ops.push(op);\n                        break;\n                    }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop();\n                    continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) {\n            op = [\n                6,\n                e\n            ];\n            y = 0;\n        } finally{\n            f = t = 0;\n        }\n        if (op[0] & 5) throw op[1];\n        return {\n            value: op[0] ? op[1] : void 0,\n            done: true\n        };\n    }\n}\n\n\n\nvar schema = {\n    state: zod__WEBPACK_IMPORTED_MODULE_0__.z.string().length(2).describe(\"Two-letter state code (e.g. CA, NY)\")\n};\nvar metadata = {\n    name: \"fetch-weather\",\n    description: \"Fetch data from the NWS API\",\n    annotations: {\n        title: \"Fetch Weather Data from NWS API\",\n        readOnlyHint: true,\n        destructiveHint: false,\n        idempotentHint: true\n    }\n};\nfunction fetchWeather(_0) {\n    return _async_to_generator(function(param) {\n        var state, stateCode, alertsUrl, alertsData, features, formattedAlerts, alertsText;\n        return _ts_generator(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    state = param.state;\n                    stateCode = state.toUpperCase();\n                    alertsUrl = \"\".concat(_utils_constants__WEBPACK_IMPORTED_MODULE_1__.NWS_API_BASE, \"/alerts?area=\").concat(stateCode);\n                    return [\n                        4,\n                        (0,_utils_weather__WEBPACK_IMPORTED_MODULE_2__.makeNWSRequest)(alertsUrl)\n                    ];\n                case 1:\n                    alertsData = _state.sent();\n                    if (!alertsData) {\n                        return [\n                            2,\n                            {\n                                content: [\n                                    {\n                                        type: \"text\",\n                                        text: \"Failed to retrieve alerts data\"\n                                    }\n                                ]\n                            }\n                        ];\n                    }\n                    features = alertsData.features || [];\n                    if (features.length === 0) {\n                        return [\n                            2,\n                            {\n                                content: [\n                                    {\n                                        type: \"text\",\n                                        text: \"No active alerts for \".concat(stateCode)\n                                    }\n                                ]\n                            }\n                        ];\n                    }\n                    formattedAlerts = features.map(_utils_weather__WEBPACK_IMPORTED_MODULE_2__.formatAlert);\n                    alertsText = \"Active alerts for \".concat(stateCode, \":\\n\\n\").concat(formattedAlerts.join(\"\\n\"));\n                    return [\n                        2,\n                        {\n                            content: [\n                                {\n                                    type: \"text\",\n                                    text: alertsText\n                                }\n                            ]\n                        }\n                    ];\n            }\n        });\n    }).apply(this, arguments);\n}\n\n\n//# sourceURL=webpack://structure/./src/tools/fetch.ts?");

/***/ }),

/***/ "./src/utils/constants.ts":
/*!********************************!*\
  !*** ./src/utils/constants.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NWS_API_BASE: () => (/* binding */ NWS_API_BASE),\n/* harmony export */   USER_AGENT: () => (/* binding */ USER_AGENT)\n/* harmony export */ });\nvar NWS_API_BASE = \"https://api.weather.gov\";\nvar USER_AGENT = \"weather-app/1.0\";\n\n\n//# sourceURL=webpack://structure/./src/utils/constants.ts?");

/***/ }),

/***/ "./src/utils/weather.ts":
/*!******************************!*\
  !*** ./src/utils/weather.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatAlert: () => (/* binding */ formatAlert),\n/* harmony export */   makeNWSRequest: () => (/* binding */ makeNWSRequest)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ \"./src/utils/constants.ts\");\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n        var info = gen[key](arg);\n        var value = info.value;\n    } catch (error) {\n        reject(error);\n        return;\n    }\n    if (info.done) {\n        resolve(value);\n    } else {\n        Promise.resolve(value).then(_next, _throw);\n    }\n}\nfunction _async_to_generator(fn) {\n    return function() {\n        var self = this, args = arguments;\n        return new Promise(function(resolve, reject) {\n            var gen = fn.apply(self, args);\n            function _next(value) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n            }\n            function _throw(err) {\n                asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n            }\n            _next(undefined);\n        });\n    };\n}\nfunction _ts_generator(thisArg, body) {\n    var f, y, t, _ = {\n        label: 0,\n        sent: function() {\n            if (t[0] & 1) throw t[1];\n            return t[1];\n        },\n        trys: [],\n        ops: []\n    }, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() {\n        return this;\n    }), g;\n    function verb(n) {\n        return function(v) {\n            return step([\n                n,\n                v\n            ]);\n        };\n    }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while(g && (g = 0, op[0] && (_ = 0)), _)try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [\n                op[0] & 2,\n                t.value\n            ];\n            switch(op[0]){\n                case 0:\n                case 1:\n                    t = op;\n                    break;\n                case 4:\n                    _.label++;\n                    return {\n                        value: op[1],\n                        done: false\n                    };\n                case 5:\n                    _.label++;\n                    y = op[1];\n                    op = [\n                        0\n                    ];\n                    continue;\n                case 7:\n                    op = _.ops.pop();\n                    _.trys.pop();\n                    continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n                        _ = 0;\n                        continue;\n                    }\n                    if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n                        _.label = op[1];\n                        break;\n                    }\n                    if (op[0] === 6 && _.label < t[1]) {\n                        _.label = t[1];\n                        t = op;\n                        break;\n                    }\n                    if (t && _.label < t[2]) {\n                        _.label = t[2];\n                        _.ops.push(op);\n                        break;\n                    }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop();\n                    continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) {\n            op = [\n                6,\n                e\n            ];\n            y = 0;\n        } finally{\n            f = t = 0;\n        }\n        if (op[0] & 5) throw op[1];\n        return {\n            value: op[0] ? op[1] : void 0,\n            done: true\n        };\n    }\n}\n\nfunction formatAlert(feature) {\n    var props = feature.properties;\n    return [\n        \"Event: \".concat(props.event || \"Unknown\"),\n        \"Area: \".concat(props.areaDesc || \"Unknown\"),\n        \"Severity: \".concat(props.severity || \"Unknown\"),\n        \"Status: \".concat(props.status || \"Unknown\"),\n        \"Headline: \".concat(props.headline || \"No headline\"),\n        \"---\"\n    ].join(\"\\n\");\n}\nfunction makeNWSRequest(url) {\n    return _async_to_generator(function() {\n        var headers, response, error;\n        return _ts_generator(this, function(_state) {\n            switch(_state.label){\n                case 0:\n                    headers = {\n                        \"User-Agent\": _constants__WEBPACK_IMPORTED_MODULE_0__.USER_AGENT,\n                        Accept: \"application/geo+json\"\n                    };\n                    _state.label = 1;\n                case 1:\n                    _state.trys.push([\n                        1,\n                        4,\n                        ,\n                        5\n                    ]);\n                    return [\n                        4,\n                        fetch(url, {\n                            headers: headers\n                        })\n                    ];\n                case 2:\n                    response = _state.sent();\n                    if (!response.ok) {\n                        throw new Error(\"HTTP error! status: \".concat(response.status));\n                    }\n                    return [\n                        4,\n                        response.json()\n                    ];\n                case 3:\n                    return [\n                        2,\n                        _state.sent()\n                    ];\n                case 4:\n                    error = _state.sent();\n                    console.error(\"Error making NWS request:\", error);\n                    return [\n                        2,\n                        null\n                    ];\n                case 5:\n                    return [\n                        2\n                    ];\n            }\n        });\n    })();\n}\n\n\n//# sourceURL=webpack://structure/./src/utils/weather.ts?");

/***/ })

};
;